
POST http://localhost:4004/odata/v4/admin/createEmployee
Authorization: Basic pushpak.jha@sumodigitech.com:initial
Content-Type: application/json

{
  "employeeID": "EMP0020",
  "firstName": "Rahul",
  "lastName": "Vaidya",
  "email": "rahul.vaidya@sumodigitech.com",
  "managerEmployeeID": "EMP005",
  "roleID": "1a2b3c4d-5e6f-7a8b-9c0d-1e2f3a4b5c6d"
}

### ============================================

GET http://localhost:4004/odata/v4/admin/UserRoles?$filter=roleName eq 'Employee'
Authorization: Basic pushpak.jha@sumodigitech.com:initial


### ============================================

GET http://localhost:3292/odata/v4/admin/Employees?$filter=employeeID eq 'EMP00'&$expand=dashboardLink
Authorization: Basic pushpak.jha@sumodigitech.com:initial


### ============================================

GET http://localhost:4004/odata/v4/admin/Employees('EMP0019')
Authorization: Basic pushpak.jha@sumodigitech.com:initial


### ============================================

POST http://localhost:4004/odata/v4/authentication/generateOTP
Content-Type: application/json

{
  "linkToken": "07cd00ad12227bac0f321ec947945d74"
}


### ============================================

GET http://localhost:4004/odata/v4/admin/Employees?$filter=employeeID eq 'EMP0017'
Authorization: Basic pushpak.jha@sumodigitech.com:initial


### ============================================

POST http://localhost:4004/odata/v4/authentication/verifyOTP
Content-Type: application/json

{
  "linkToken": "",
  "otp": ""
}


### ============================================

POST http://localhost:4004/odata/v4/authentication/validateToken
Content-Type: application/json

{
  "accessToken": "[PASTE_ACCESS_TOKEN_HERE]"
}


### ============================================

POST http://localhost:3422/odata/v4/authentication/verifyOTP
Content-Type: application/json

{
  "linkToken": "07cd00ad12227bac0f321ec947945d74",
  "otp": "294419"
}


### ============================================

POST http://localhost:3292/odata/v4/authentication/generateOTP
Content-Type: application/json

{
  "linkToken": "07cd00ad12227bac0f321ec947945d74"
}


### ============================================

GET http://localhost:4004/odata/v4/admin/Notifications?$orderby=createdAt desc
Authorization: Basic pushpak.jha@sumodigitech.com:initial


### ============================================

### 1. First, get Employee Role ID
GET http://localhost:4004/odata/v4/admin/UserRoles?$filter=roleName eq 'Employee'
Authorization: Basic pushpak.jha@sumodigitech.com:initial

###

### 
POST http://localhost:4004/odata/v4/admin/createEmployee
Authorization: Basic pushpak.jha@sumodigitech.com:initial
Content-Type: application/json

{
  "employeeID": "EMP9999",
  "firstName": "Test",
  "lastName": "Employee",
  "email": "aditya.mishra@sumodigitech.com",
  "managerEmployeeID": "EMP0002",
  "roleID": "PASTE_ROLE_ID_HERE"
}

###

### 
GET http://localhost:4004/odata/v4/admin/Employees?$filter=employeeID eq 'EMP9999'
Authorization: Basic pushpak.jha@sumodigitech.com:initial

###



### 
POST http://localhost:40100/odata/v4/authentication/generateOTP
Content-Type: application/json

{
  "linkToken": "e4977ed8a797696718cb50430b1db736"
}

###



###
POST http://localhost:4006/odata/v4/authentication/verifyOTP
Content-Type: application/json

{
  "linkToken": "e4977ed8a797696718cb50430b1db736",
  "otp": "571475"
}

###

### 
POST http://localhost:4006/odata/v4/authentication/validateToken
Content-Type: application/json

{
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbXBsb3llZUlEIjoiRU1QMDAwOCIsImVtYWlsIjoicHJpbmNlLmpoYUBzdW1vZGlnaXRlY2guY29tIiwiZmlyc3ROYW1lIjoiUHJpbmNlIiwibGFzdE5hbWUiOiJKaGEiLCJpZCI6ImNmYjRkN2JhLTE0MDgtNGIyYS1hY2U5LWU2ODAyZmMwMTM4ZiIsImlhdCI6MTc2NjMzNTU1MiwiZXhwIjoxNzY2NDIxOTUyfQ.kCTxQIXGzSWmlbepc0KD2OigF5E-fk8fZ_tQoNl1InQ"
}


####
POST http://localhost:4006/odata/v4/admin/deleteEmployee
Authorization: Basic pushpak.jha@sumodigitech.com:initial
Content-Type: application/json

{
  "employeeID": "EMP0008"
}

### ============================================
### TESTING CHECKLIST
### ============================================
### ✅ Employee creation generates dashboard link
### ✅ Dashboard link stored in database
### ✅ Welcome email sent (check email logs)
### ✅ Link token encryption working
### ✅ OTP generation working
### ✅ OTP stored in database
### ✅ OTP email sent (check email logs)
### ✅ OTP verification working
### ✅ JWT token generation working
### ✅ JWT token validation working
### ✅ Token expiry working (wait 24+ hours)
### ✅ OTP expiry working (wait 10+ minutes)
### ✅ Max attempts limit working (3 tries)
### ✅ Invalid token handling working
### ✅ Authentication logs created
### ============================================



POST http://localhost:3422/odata/v4/authentication/getLatestOTP
Content-Type: application/json

{
  "linkToken": "07cd00ad12227bac0f321ec947945d74"
}

### Decrypt Token
POST http://localhost:4006/odata/v4/authentication/decryptToken
Content-Type: application/json

{
  "linkToken": "e4977ed8a797696718cb50430b1db736"
}


#####
POST http://localhost:322/odata/v4/authentication/getEmployeeCredentials
Content-Type: application/json

{
  "linkToken": "e4977ed8a797696718cb50430b1db736"
}